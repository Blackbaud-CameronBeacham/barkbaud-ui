{"version":3,"sources":["src/index.js","src/components/photo.js","src/pages/dashboard/dashboardpage.js","src/pages/dogs/currenthome/currenthometile.js","src/pages/dogs/dogpage.js","src/pages/dogs/notes/noteadd.js","src/pages/dogs/notes/notestile.js","src/pages/dogs/previoushomes/previoushomestile.js","src/pages/dogs/summary/summarytile.js","src/pages/login/loginpage.js","src/services/auth.js","tmp/templates.js","../../src/index.js","../../src/components/photo.js","../../src/pages/dashboard/dashboardpage.js","../../src/pages/dogs/currenthome/currenthometile.js","../../src/pages/dogs/dogpage.js","../../src/pages/dogs/notes/noteadd.js","../../src/pages/dogs/notes/notestile.js","../../src/pages/dogs/previoushomes/previoushomestile.js","../../src/pages/dogs/summary/summarytile.js","../../src/pages/login/loginpage.js","../../src/services/auth.js","../../tmp/templates.js"],"names":["config","$locationProvider","$urlRouterProvider","bbWindowConfig","html5Mode","otherwise","$injector","$state","get","go","productName","run","bbDataConfig","bbWait","barkbaudAuthService","$rootScope","addBaseUrl","url","barkbaudConfig","apiUrl","$on","event","toState","toParams","redirect","authenticated","preventDefault","$emit","href","absolute","isAuthenticated","then","modal","name","e","opts","stopPropagation","beginPageWait","endPageWait","dataUrlFilter","resourceUrlFilter","MainController","self","this","logout","$inject","angular","module","constant","controller","barkPhoto","scope","barkPhotoUrl","link","el","$watch","newValue","css","replace","templateUrl","directive","dashboardPageConfig","$stateProvider","state","DashboardPageController","$scope","$stateParams","bbData","bbWindow","setWindowTitle","load","data","result","dogs","DogCurrentHomeTileController","$timeout","dogId","encodeURIComponent","currentHome","dogPageConfig","abstract","resolve","views","currenthome","previoushomes","notes","DogPageController","tiles","id","view_name","collapsed","collapsed_small","layout","one_column_layout","two_column_layout","dog","NoteAddController","barkNoteAdd","bbModal","open","factory","DogNotesTileController","bbMoment","getNoteDate","date","iso","calendar","addNote","DogPreviousHomesTileController","previousHomes","getSummaryDate","format","DogSummaryTileController","summary","LoginPageController","$location","$window","barkbaudRedirect","error","search","login","waitingForAuth","update","$q","action","location","join","service","deferred","defer","promise","close","$templateCache","put"],"mappings":"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AA,iBAAA,SAAAyH,GACAA,EAAAC,IAAA,wBACA,kEAGAD,EAAAC,IAAA,qCACA,8uBAsBAD,EAAAC,IAAA,8CACA,iKAMAD,EAAAC,IAAA,0BACA,8uBAqBAD,EAAAC,IAAA,gCACA,0mCA+BAD,EAAAC,IAAA,kCACA,61BAsBAD,EAAAC,IAAA,kDACA,63BAuBAD,EAAAC,IAAA,6BACA;AvBxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","file":"app.js","sourceRoot":"../..","sourcesContent":["/*globals angular */\n\n(function () {\n    'use strict';\n\n    var barkbaudConfig = {\n        apiUrl: 'https://glacial-mountain-6366.herokuapp.com/'\n    };\n\n    function config($locationProvider, $urlRouterProvider, bbWindowConfig) {\n        $locationProvider.html5Mode(false);\n\n        $urlRouterProvider.otherwise(function ($injector) {\n            var $state = $injector.get('$state');\n            $state.go('dashboard');\n        });\n\n        bbWindowConfig.productName = 'Barkbaud';\n    }\n\n    config.$inject = ['$locationProvider', '$urlRouterProvider', 'bbWindowConfig'];\n\n    function run(bbDataConfig, bbWait, barkbaudAuthService, $rootScope, $state) {\n\n        function addBaseUrl(url) {\n            return barkbaudConfig.apiUrl + url;\n        }\n\n        $rootScope.$on('$stateChangeStart', function (event, toState, toParams) {\n            var redirect;\n            if (!barkbaudAuthService.authenticated) {\n                event.preventDefault();\n                $rootScope.$emit('bbBeginWait');\n\n                redirect = $state.href(toState, toParams, { absolute: true });\n                barkbaudAuthService.isAuthenticated().then(function (authenticated) {\n                    $rootScope.$emit('bbEndWait');\n                    if (authenticated) {\n                        $state.go(toState, toParams);\n                    } else {\n                        barkbaudAuthService.modal(redirect).then(function () {\n                            return $state.go(toState.name, toParams);\n                        });\n                    }\n                });\n            }\n        });\n\n        $rootScope.$on('bbBeginWait', function (e, opts) {\n            e.stopPropagation();\n            bbWait.beginPageWait(opts);\n        });\n\n        $rootScope.$on('bbEndWait', function (e, opts) {\n            e.stopPropagation();\n            bbWait.endPageWait(opts);\n        });\n\n        bbDataConfig.dataUrlFilter = addBaseUrl;\n        bbDataConfig.resourceUrlFilter = addBaseUrl;\n    }\n\n    run.$inject = ['bbDataConfig', 'bbWait', 'barkbaudAuthService', '$rootScope', '$state'];\n\n    function MainController(barkbaudAuthService) {\n        var self = this;\n        self.logout = barkbaudAuthService.logout;\n    }\n\n    MainController.$inject = ['barkbaudAuthService'];\n\n    angular.module('barkbaud', ['sky', 'ui.bootstrap', 'ui.router', 'ngAnimate', 'barkbaud.templates'])\n        .constant('barkbaudConfig', barkbaudConfig)\n        .config(config)\n        .run(run)\n        .controller('MainController', MainController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function barkPhoto() {\n        return {\n            scope: {\n                barkPhotoUrl: '='\n            },\n            link: function (scope, el) {\n                scope.$watch('barkPhotoUrl', function (newValue) {\n                    if (newValue) {\n                        el.css('background-image', 'url(\\'' + newValue.replace('http://', 'https://') + '\\')');\n                    }\n                });\n            },\n            replace: true,\n            templateUrl: 'components/photo.html'\n        };\n    }\n\n    angular.module('barkbaud')\n        .directive('barkPhoto', barkPhoto);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function dashboardPageConfig($stateProvider) {\n        $stateProvider\n            .state('dashboard', {\n                controller: 'DashboardPageController as dashboardPage',\n                templateUrl: 'pages/dashboard/dashboardpage.html',\n                url: '/dashboard'\n            });\n    }\n\n    dashboardPageConfig.$inject = ['$stateProvider'];\n\n    function DashboardPageController($scope, $stateParams, bbData, bbWindow) {\n        var self = this;\n\n        $scope.$emit('bbBeginWait');\n        bbWindow.setWindowTitle('Dashboard');\n        bbData.load({\n            data: 'api/dogs'\n        }).then(function (result) {\n            self.dogs = result.data.data;\n            $scope.$emit('bbEndWait');\n        });\n    }\n\n    DashboardPageController.$inject = [\n        '$scope',\n        '$stateParams',\n        'bbData',\n        'bbWindow'\n    ];\n\n    angular.module('barkbaud')\n        .config(dashboardPageConfig)\n        .controller('DashboardPageController', DashboardPageController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogCurrentHomeTileController($timeout, bbData, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/currenthome'\n        }).then(function (result) {\n            self.currentHome = result.data;\n        });\n    }\n\n    DogCurrentHomeTileController.$inject = ['$timeout', 'bbData', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogCurrentHomeTileController', DogCurrentHomeTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function dogPageConfig($stateProvider) {\n        $stateProvider\n            .state('dog', {\n                abstract: true,\n                controller: 'DogPageController as dogPage',\n                templateUrl: 'pages/dogs/dogpage.html',\n                url: '/dogs/:dogId',\n                resolve: {\n                    dogId: ['$stateParams', function ($stateParams) {\n                        return $stateParams.dogId;\n                    }]\n                }\n            })\n            .state('dog.views', {\n                url: '',\n                views: {\n                    'currenthome': {\n                        controller: 'DogCurrentHomeTileController as dogCurrentHomeTile',\n                        templateUrl: 'pages/dogs/currenthome/currenthometile.html'\n                    },\n                    'previoushomes': {\n                        controller: 'DogPreviousHomesTileController as dogPreviousHomesTile',\n                        templateUrl: 'pages/dogs/previoushomes/previoushomestile.html'\n                    },\n                    'notes': {\n                        controller: 'DogNotesTileController as dogNotesTile',\n                        templateUrl: 'pages/dogs/notes/notestile.html'\n                    }\n                }\n            });\n    }\n\n    dogPageConfig.$inject = ['$stateProvider'];\n\n    function DogPageController($scope, $stateParams, bbData, bbWindow, dogId) {\n        var self = this;\n\n        self.tiles = [\n            {\n                id: 'DogCurrentHomeTile',\n                view_name: 'currenthome',\n                collapsed: false,\n                collapsed_small: false\n            },\n            {\n                id: 'DogPreviousHomesTile',\n                view_name: 'previoushomes',\n                collapsed: false,\n                collapsed_small: false\n            },\n            {\n                id: 'DogNotesTile',\n                view_name: 'notes',\n                collapsed: false,\n                collapsed_small: false\n            }\n        ];\n\n        self.layout = {\n            one_column_layout: [\n                'DogCurrentHomeTile',\n                'DogPreviousHomesTile',\n                'DogNotesTile'\n            ],\n            two_column_layout: [\n                [\n                    'DogCurrentHomeTile',\n                    'DogPreviousHomesTile'\n                ],\n                [\n                    'DogNotesTile'\n                ]\n            ]\n        };\n\n        $scope.$emit('bbBeginWait');\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId)\n        }).then(function (result) {\n            self.dog = result.data.data;\n            bbWindow.setWindowTitle(self.dog.name);\n            $scope.$emit('bbEndWait');\n        });\n    }\n\n    DogPageController.$inject = [\n        '$scope',\n        '$stateParams',\n        'bbData',\n        'bbWindow',\n        'dogId'\n    ];\n\n    angular.module('barkbaud')\n        .config(dogPageConfig)\n        .controller('DogPageController', DogPageController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function NoteAddController() {\n    }\n\n    function barkNoteAdd(bbModal) {\n        return {\n            open: function () {\n                return bbModal.open({\n                    controller: 'NoteAddController as noteAdd',\n                    templateUrl: 'pages/dogs/notes/noteadd.html'\n                });\n            }\n        };\n    }\n\n    barkNoteAdd.$inject = ['bbModal'];\n\n    angular.module('barkbaud')\n        .controller('NoteAddController', NoteAddController)\n        .factory('barkNoteAdd', barkNoteAdd);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogNotesTileController($timeout, bbData, bbMoment, barkNoteAdd, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/notes'\n        }).then(function (result) {\n            self.notes = result.data.data;\n        });\n\n        self.getNoteDate = function (date) {\n            if (date && date.iso) {\n                return bbMoment(date.iso).calendar();\n            }\n        };\n\n        self.addNote = function () {\n            barkNoteAdd.open();\n        };\n    }\n\n    DogNotesTileController.$inject = ['$timeout', 'bbData', 'bbMoment', 'barkNoteAdd', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogNotesTileController', DogNotesTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogPreviousHomesTileController($timeout, bbData, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/previoushomes'\n        }).then(function (result) {\n            self.previousHomes = result.data.data;\n        });\n\n        self.getSummaryDate = function (date) {\n            if (date && date.iso) {\n                return bbMoment(date.iso).format('MMM Do YY');\n            }\n        };\n    }\n\n    DogPreviousHomesTileController.$inject = ['$timeout', 'bbData', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogPreviousHomesTileController', DogPreviousHomesTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogSummaryTileController($timeout, bbData, bbMoment, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/summary'\n        }).then(function (result) {\n            self.summary = result.data.data;\n        });\n\n        self.getSummaryDate = function (date) {\n            if (date && date.iso) {\n                return bbMoment(date.iso).format('MMM Do YY');\n            }\n        };\n    }\n\n    DogSummaryTileController.$inject = ['$timeout', 'bbData', 'bbMoment', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogSummaryTileController', DogSummaryTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function LoginPageController($location, $window, bbWait, bbWindow, barkbaudAuthService, barkbaudRedirect) {\n        var self = this;\n\n        self.error = $location.search().error;\n        self.logout = barkbaudAuthService.logout;\n\n        self.login = function () {\n            barkbaudAuthService.login(barkbaudRedirect);\n        };\n\n        bbWindow.setWindowTitle('Login');\n\n        self.waitingForAuth = true;\n        barkbaudAuthService.isAuthenticated().then(function (authenticated) {\n            self.waitingForAuth = false;\n            if (authenticated) {\n                barkbaudAuthService.update(authenticated);\n            }\n        });\n\n    }\n\n    LoginPageController.$inject = [\n        '$location',\n        '$window',\n        'bbWait',\n        'bbWindow',\n        'barkbaudAuthService',\n        'barkbaudRedirect'\n    ];\n\n    angular.module('barkbaud')\n        .controller('LoginPageController', LoginPageController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function barkbaudAuthService(barkbaudConfig, bbData, bbModal, $q, $window) {\n        var modal,\n            service = {};\n\n        function go(action, redirect) {\n            $window.location.href = [\n                barkbaudConfig.apiUrl,\n                'auth/',\n                action,\n                '?redirect=',\n                encodeURIComponent(redirect)\n            ].join('');\n        }\n\n        service.isAuthenticated = function () {\n            var deferred = $q.defer();\n            bbData.load({\n                data: 'auth/authenticated'\n            }).then(function (result) {\n                service.authenticated = result.data.authenticated;\n                deferred.resolve(result.data.authenticated);\n            });\n            return deferred.promise;\n        };\n\n        service.login = function (redirect) {\n            go('login', redirect);\n        };\n\n        service.logout = function (redirect) {\n            go('logout', redirect);\n        };\n\n        service.update = function () {\n            modal.close(service.authenticated);\n        };\n\n        service.modal = function (redirect) {\n            if (!modal) {\n                modal = bbModal.open({\n                    controller: 'LoginPageController as loginPage',\n                    templateUrl: 'pages/login/loginpage.html',\n                    resolve: {\n                        barkbaudRedirect: function () {\n                            return redirect;\n                        }\n                    }\n                });\n            }\n\n            return modal.result;\n        };\n\n        return service;\n    }\n\n    barkbaudAuthService.$inject = [\n        'barkbaudConfig',\n        'bbData',\n        'bbModal',\n        '$q',\n        '$window'\n    ];\n\n    angular.module('barkbaud')\n        .factory('barkbaudAuthService', barkbaudAuthService);\n}());\n","angular.module('barkbaud.templates', []).run(['$templateCache', function($templateCache) {\n    $templateCache.put('components/photo.html',\n        '<div class=\"bark-dog-photo img-circle center-block\">\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('pages/dashboard/dashboardpage.html',\n        '<div class=\"container-fluid\">\\n' +\n        '  <h1>Dashboard</h1>\\n' +\n        '  <section class=\"panel\" ng-repeat=\"dog in dashboardPage.dogs\">\\n' +\n        '    <div class=\"panel-body\">\\n' +\n        '      <div class=\"row\">\\n' +\n        '          <div class=\"col-md-3 col-lg-2\">\\n' +\n        '            <a ui-sref=\"dog.views({dogId: dog.objectId})\">\\n' +\n        '              <bark-photo bark-photo-url=\"dog.image.url\"></bark-photo>\\n' +\n        '            </a>\\n' +\n        '          </div>\\n' +\n        '          <div class=\"col-md-9 col-lg-10\">\\n' +\n        '              <h1>\\n' +\n        '                <a ui-sref=\"dog.views({dogId: dog.objectId})\">{{dog.name}}</a>\\n' +\n        '              </h1>\\n' +\n        '              <h4>{{dog.breed}} &middot; {{dog.gender}}</h4>\\n' +\n        '              <p class=\"bb-text-block bark-dog-bio\">{{dog.bio}}</p>\\n' +\n        '          </div>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '  </section>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('pages/dogs/currenthome/currenthometile.html',\n        '<bb-tile bb-tile-header=\"\\'Current home\\'\">\\n' +\n        '    <div bb-tile-section>\\n' +\n        '        {{dogCurrentHomeTile.currentHome.constituent.name}}\\n' +\n        '    </div>\\n' +\n        '</bb-tile>\\n' +\n        '');\n    $templateCache.put('pages/dogs/dogpage.html',\n        '<div class=\"bb-page-header\">\\n' +\n        '    <div class=\"container-fluid\">\\n' +\n        '        <div class=\"row\">\\n' +\n        '            <div class=\"col-md-3 col-lg-2\">\\n' +\n        '                <bark-photo bark-photo-url=\"dogPage.dog.image.url\"></bark-photo>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"col-md-9 col-lg-10\">\\n' +\n        '                <h1>\\n' +\n        '                  {{dogPage.dog.name}}\\n' +\n        '                </h1>\\n' +\n        '                <h4>{{dogPage.dog.breed}} &middot; {{dogPage.dog.gender}}</h4>\\n' +\n        '                <p></p>\\n' +\n        '                <p class=\"bb-text-block bark-dog-bio\">{{dogPage.dog.bio}}</p>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '<div class=\"container-fluid\">\\n' +\n        '    <bb-tile-dashboard bb-layout=\"dogPage.layout\" bb-tiles=\"dogPage.tiles\"></bb-tile-dashboard>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('pages/dogs/notes/noteadd.html',\n        '<bb-modal>\\n' +\n        '  <div class=\"modal-form\">\\n' +\n        '    <bb-modal-header>Add note</bb-modal-header>\\n' +\n        '    <div bb-modal-body>\\n' +\n        '      <form>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <label class=\"control-label\">Date</label>\\n' +\n        '          <bb-datepicker type=\"text\" ng-model=\"noteAdd.date\"></bb-date-picker>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <label class=\"control-label\">Note</label>\\n' +\n        '          <input type=\"text\" class=\"form-control\" ng-model=\"noteAdd.title\" />\\n' +\n        '        </div>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <textarea class=\"form-control\" ng-model=\"noteAdd.description\"></textarea>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <label class=\"control-label\">\\n' +\n        '            <input type=\"checkbox\" bb-check ng-model=\"noteAdd.addConstituentNote\" />\\n' +\n        '            Also add this note to the dog\\'s current owner\\n' +\n        '          </label>\\n' +\n        '        </div>\\n' +\n        '      </form>\\n' +\n        '    </div>\\n' +\n        '    <bb-modal-footer>\\n' +\n        '      <bb-modal-footer-button-primary></bb-modal-footer-button-primary>\\n' +\n        '      <bb-modal-footer-button-cancel></bb-modal-footer-button-cancel>\\n' +\n        '    </bb-modal-footer>\\n' +\n        '  </div>\\n' +\n        '</bb-modal>\\n' +\n        '');\n    $templateCache.put('pages/dogs/notes/notestile.html',\n        '<bb-tile bb-tile-header=\"\\'Notes\\'\">\\n' +\n        '  <div>\\n' +\n        '    <div class=\"toolbar bb-tile-toolbar\">\\n' +\n        '      <button type=\"button\" class=\"btn bb-btn-secondary\" ng-click=\"dogNotesTile.addNote()\"><i class=\"fa fa-plus-circle\"></i> Add Note</button>\\n' +\n        '    </div>\\n' +\n        '    <div ng-show=\"dogNotesTile.notes\">\\n' +\n        '      <div ng-switch=\"dogNotesTile.notes.length || 0\">\\n' +\n        '        <div bb-tile-section ng-switch-when=\"0\" class=\"bb-no-records\">\\n' +\n        '          This dog has no notes.\\n' +\n        '        </div>\\n' +\n        '        <div ng-switch-default class=\"bb-repeater\">\\n' +\n        '          <div ng-repeat=\"note in dogNotesTile.notes\" class=\"bb-repeater-item\">\\n' +\n        '            <h4 class=\"bb-repeater-item-title\">{{ note.title }}</h4>\\n' +\n        '            <h5>{{ dogNotesTile.getNoteDate(note.date) }}</h5>\\n' +\n        '            <p>{{ note.description }}</p>\\n' +\n        '          </div>\\n' +\n        '        </div>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '  </div>\\n' +\n        '</bb-tile>\\n' +\n        '');\n    $templateCache.put('pages/dogs/previoushomes/previoushomestile.html',\n        '<bb-tile bb-tile-header=\"\\'Previous homes\\'\">\\n' +\n        '  <div>\\n' +\n        '    <div ng-show=\"dogSummaryTile.previousHomes\">\\n' +\n        '      <div ng-switch=\"dogSummaryTile.previousHomes.length || 0\">\\n' +\n        '        <div bb-tile-section ng-switch-when=\"0\" class=\"bb-no-records\">\\n' +\n        '          This dog has no previous homes.\\n' +\n        '        </div>\\n' +\n        '        <div ng-switch-default class=\"bb-repeater\">\\n' +\n        '          <div ng-repeat=\"previousHome in dogSummaryTile.previousHomes\" class=\"bb-repeater-item\">\\n' +\n        '            <h4 class=\"bb-repeater-item-title\">{{ previousHome.constituent.name }}</h4>\\n' +\n        '            <h5>\\n' +\n        '              {{ dogSummaryTile.getSummaryDate(previousHome.fromDate) }}\\n' +\n        '              <span ng-show=\"previousHome.toDate\">\\n' +\n        '                to {{ dogSummaryTile.getSummaryDate(previousHome.toDate) }}\\n' +\n        '              </span>\\n' +\n        '            </h5>\\n' +\n        '          </div>\\n' +\n        '        </div>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '  </div>\\n' +\n        '</bb-tile>\\n' +\n        '');\n    $templateCache.put('pages/login/loginpage.html',\n        '<bb-modal>\\n' +\n        '  <div class=\"modal-form modal-authorize\">\\n' +\n        '    <bb-modal-header>Barkbaud</bb-modal-header>\\n' +\n        '    <div bb-modal-body>\\n' +\n        '      <p class=\"alert alert-danger\" ng-if=\"loginPage.error\" ng-switch=\"loginPage.error\">\\n' +\n        '        <span ng-switch-when=\"access_denied\">\\n' +\n        '          Barkbaud requires access to RENXT.\\n' +\n        '        </span>\\n' +\n        '        <span ng-switch-default>\\n' +\n        '          An unknown error has occurred.\\n' +\n        '        </span>\\n' +\n        '      </p>\\n' +\n        '      <p>Welcome to the Barkbaud Sample App.  This demo was built to showcase the Blackbaud NXT API and Blackbaud Sky UX.</p>\\n' +\n        '      <p>Click the Login button below to view the demo, or click the Learn More button below to visit the GitHub repo.</p>\\n' +\n        '    </div>\\n' +\n        '    <bb-modal-footer>\\n' +\n        '      <div ng-show=\"loginPage.waitingForAuth\">\\n' +\n        '        <i class=\"fa fa-2x fa-spin fa-spinner\" ></i> Checking authentication...\\n' +\n        '      </div>\\n' +\n        '      <div ng-hide=\"loginPage.waitingForAuth\">\\n' +\n        '        <bb-modal-footer-button-primary  ng-click=\"loginPage.login()\">\\n' +\n        '          Authorize Barkbaud\\n' +\n        '        </bb-modal-footer-button-primary>\\n' +\n        '        <a href=\"https://github.com/blackbaud/barkbaud\" target=\"_blank\" class=\"btn bb-btn-secondary\">\\n' +\n        '          Learn More\\n' +\n        '        </a>\\n' +\n        '      </div>\\n' +\n        '    </bb-modal-footer>\\n' +\n        '  </div>\\n' +\n        '</bb-modal>\\n' +\n        '');\n}]);\n","/*globals angular */\n\n(function () {\n    'use strict';\n\n    var barkbaudConfig = {\n        apiUrl: 'https://glacial-mountain-6366.herokuapp.com/'\n    };\n\n    function config($locationProvider, $urlRouterProvider, bbWindowConfig) {\n        $locationProvider.html5Mode(false);\n\n        $urlRouterProvider.otherwise(function ($injector) {\n            var $state = $injector.get('$state');\n            $state.go('dashboard');\n        });\n\n        bbWindowConfig.productName = 'Barkbaud';\n    }\n\n    config.$inject = ['$locationProvider', '$urlRouterProvider', 'bbWindowConfig'];\n\n    function run(bbDataConfig, bbWait, barkbaudAuthService, $rootScope, $state) {\n\n        function addBaseUrl(url) {\n            return barkbaudConfig.apiUrl + url;\n        }\n\n        $rootScope.$on('$stateChangeStart', function (event, toState, toParams) {\n            var redirect;\n            if (!barkbaudAuthService.authenticated) {\n                event.preventDefault();\n                $rootScope.$emit('bbBeginWait');\n\n                redirect = $state.href(toState, toParams, { absolute: true });\n                barkbaudAuthService.isAuthenticated().then(function (authenticated) {\n                    $rootScope.$emit('bbEndWait');\n                    if (authenticated) {\n                        $state.go(toState, toParams);\n                    } else {\n                        barkbaudAuthService.modal(redirect).then(function () {\n                            return $state.go(toState.name, toParams);\n                        });\n                    }\n                });\n            }\n        });\n\n        $rootScope.$on('bbBeginWait', function (e, opts) {\n            e.stopPropagation();\n            bbWait.beginPageWait(opts);\n        });\n\n        $rootScope.$on('bbEndWait', function (e, opts) {\n            e.stopPropagation();\n            bbWait.endPageWait(opts);\n        });\n\n        bbDataConfig.dataUrlFilter = addBaseUrl;\n        bbDataConfig.resourceUrlFilter = addBaseUrl;\n    }\n\n    run.$inject = ['bbDataConfig', 'bbWait', 'barkbaudAuthService', '$rootScope', '$state'];\n\n    function MainController(barkbaudAuthService) {\n        var self = this;\n        self.logout = barkbaudAuthService.logout;\n    }\n\n    MainController.$inject = ['barkbaudAuthService'];\n\n    angular.module('barkbaud', ['sky', 'ui.bootstrap', 'ui.router', 'ngAnimate', 'barkbaud.templates'])\n        .constant('barkbaudConfig', barkbaudConfig)\n        .config(config)\n        .run(run)\n        .controller('MainController', MainController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function barkPhoto() {\n        return {\n            scope: {\n                barkPhotoUrl: '='\n            },\n            link: function (scope, el) {\n                scope.$watch('barkPhotoUrl', function (newValue) {\n                    if (newValue) {\n                        el.css('background-image', 'url(\\'' + newValue.replace('http://', 'https://') + '\\')');\n                    }\n                });\n            },\n            replace: true,\n            templateUrl: 'components/photo.html'\n        };\n    }\n\n    angular.module('barkbaud')\n        .directive('barkPhoto', barkPhoto);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function dashboardPageConfig($stateProvider) {\n        $stateProvider\n            .state('dashboard', {\n                controller: 'DashboardPageController as dashboardPage',\n                templateUrl: 'pages/dashboard/dashboardpage.html',\n                url: '/dashboard'\n            });\n    }\n\n    dashboardPageConfig.$inject = ['$stateProvider'];\n\n    function DashboardPageController($scope, $stateParams, bbData, bbWindow) {\n        var self = this;\n\n        $scope.$emit('bbBeginWait');\n        bbWindow.setWindowTitle('Dashboard');\n        bbData.load({\n            data: 'api/dogs'\n        }).then(function (result) {\n            self.dogs = result.data.data;\n            $scope.$emit('bbEndWait');\n        });\n    }\n\n    DashboardPageController.$inject = [\n        '$scope',\n        '$stateParams',\n        'bbData',\n        'bbWindow'\n    ];\n\n    angular.module('barkbaud')\n        .config(dashboardPageConfig)\n        .controller('DashboardPageController', DashboardPageController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogCurrentHomeTileController($timeout, bbData, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/currenthome'\n        }).then(function (result) {\n            self.currentHome = result.data;\n        });\n    }\n\n    DogCurrentHomeTileController.$inject = ['$timeout', 'bbData', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogCurrentHomeTileController', DogCurrentHomeTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function dogPageConfig($stateProvider) {\n        $stateProvider\n            .state('dog', {\n                abstract: true,\n                controller: 'DogPageController as dogPage',\n                templateUrl: 'pages/dogs/dogpage.html',\n                url: '/dogs/:dogId',\n                resolve: {\n                    dogId: ['$stateParams', function ($stateParams) {\n                        return $stateParams.dogId;\n                    }]\n                }\n            })\n            .state('dog.views', {\n                url: '',\n                views: {\n                    'currenthome': {\n                        controller: 'DogCurrentHomeTileController as dogCurrentHomeTile',\n                        templateUrl: 'pages/dogs/currenthome/currenthometile.html'\n                    },\n                    'previoushomes': {\n                        controller: 'DogPreviousHomesTileController as dogPreviousHomesTile',\n                        templateUrl: 'pages/dogs/previoushomes/previoushomestile.html'\n                    },\n                    'notes': {\n                        controller: 'DogNotesTileController as dogNotesTile',\n                        templateUrl: 'pages/dogs/notes/notestile.html'\n                    }\n                }\n            });\n    }\n\n    dogPageConfig.$inject = ['$stateProvider'];\n\n    function DogPageController($scope, $stateParams, bbData, bbWindow, dogId) {\n        var self = this;\n\n        self.tiles = [\n            {\n                id: 'DogCurrentHomeTile',\n                view_name: 'currenthome',\n                collapsed: false,\n                collapsed_small: false\n            },\n            {\n                id: 'DogPreviousHomesTile',\n                view_name: 'previoushomes',\n                collapsed: false,\n                collapsed_small: false\n            },\n            {\n                id: 'DogNotesTile',\n                view_name: 'notes',\n                collapsed: false,\n                collapsed_small: false\n            }\n        ];\n\n        self.layout = {\n            one_column_layout: [\n                'DogCurrentHomeTile',\n                'DogPreviousHomesTile',\n                'DogNotesTile'\n            ],\n            two_column_layout: [\n                [\n                    'DogCurrentHomeTile',\n                    'DogPreviousHomesTile'\n                ],\n                [\n                    'DogNotesTile'\n                ]\n            ]\n        };\n\n        $scope.$emit('bbBeginWait');\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId)\n        }).then(function (result) {\n            self.dog = result.data.data;\n            bbWindow.setWindowTitle(self.dog.name);\n            $scope.$emit('bbEndWait');\n        });\n    }\n\n    DogPageController.$inject = [\n        '$scope',\n        '$stateParams',\n        'bbData',\n        'bbWindow',\n        'dogId'\n    ];\n\n    angular.module('barkbaud')\n        .config(dogPageConfig)\n        .controller('DogPageController', DogPageController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function NoteAddController() {\n    }\n\n    function barkNoteAdd(bbModal) {\n        return {\n            open: function () {\n                return bbModal.open({\n                    controller: 'NoteAddController as noteAdd',\n                    templateUrl: 'pages/dogs/notes/noteadd.html'\n                });\n            }\n        };\n    }\n\n    barkNoteAdd.$inject = ['bbModal'];\n\n    angular.module('barkbaud')\n        .controller('NoteAddController', NoteAddController)\n        .factory('barkNoteAdd', barkNoteAdd);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogNotesTileController($timeout, bbData, bbMoment, barkNoteAdd, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/notes'\n        }).then(function (result) {\n            self.notes = result.data.data;\n        });\n\n        self.getNoteDate = function (date) {\n            if (date && date.iso) {\n                return bbMoment(date.iso).calendar();\n            }\n        };\n\n        self.addNote = function () {\n            barkNoteAdd.open();\n        };\n    }\n\n    DogNotesTileController.$inject = ['$timeout', 'bbData', 'bbMoment', 'barkNoteAdd', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogNotesTileController', DogNotesTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogPreviousHomesTileController($timeout, bbData, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/previoushomes'\n        }).then(function (result) {\n            self.previousHomes = result.data.data;\n        });\n\n        self.getSummaryDate = function (date) {\n            if (date && date.iso) {\n                return bbMoment(date.iso).format('MMM Do YY');\n            }\n        };\n    }\n\n    DogPreviousHomesTileController.$inject = ['$timeout', 'bbData', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogPreviousHomesTileController', DogPreviousHomesTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function DogSummaryTileController($timeout, bbData, bbMoment, dogId) {\n        var self = this;\n\n        bbData.load({\n            data: 'api/dogs/' + encodeURIComponent(dogId) + '/summary'\n        }).then(function (result) {\n            self.summary = result.data.data;\n        });\n\n        self.getSummaryDate = function (date) {\n            if (date && date.iso) {\n                return bbMoment(date.iso).format('MMM Do YY');\n            }\n        };\n    }\n\n    DogSummaryTileController.$inject = ['$timeout', 'bbData', 'bbMoment', 'dogId'];\n\n    angular.module('barkbaud')\n        .controller('DogSummaryTileController', DogSummaryTileController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function LoginPageController($location, $window, bbWait, bbWindow, barkbaudAuthService, barkbaudRedirect) {\n        var self = this;\n\n        self.error = $location.search().error;\n        self.logout = barkbaudAuthService.logout;\n\n        self.login = function () {\n            barkbaudAuthService.login(barkbaudRedirect);\n        };\n\n        bbWindow.setWindowTitle('Login');\n\n        self.waitingForAuth = true;\n        barkbaudAuthService.isAuthenticated().then(function (authenticated) {\n            self.waitingForAuth = false;\n            if (authenticated) {\n                barkbaudAuthService.update(authenticated);\n            }\n        });\n\n    }\n\n    LoginPageController.$inject = [\n        '$location',\n        '$window',\n        'bbWait',\n        'bbWindow',\n        'barkbaudAuthService',\n        'barkbaudRedirect'\n    ];\n\n    angular.module('barkbaud')\n        .controller('LoginPageController', LoginPageController);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function barkbaudAuthService(barkbaudConfig, bbData, bbModal, $q, $window) {\n        var modal,\n            service = {};\n\n        function go(action, redirect) {\n            $window.location.href = [\n                barkbaudConfig.apiUrl,\n                'auth/',\n                action,\n                '?redirect=',\n                encodeURIComponent(redirect)\n            ].join('');\n        }\n\n        service.isAuthenticated = function () {\n            var deferred = $q.defer();\n            bbData.load({\n                data: 'auth/authenticated'\n            }).then(function (result) {\n                service.authenticated = result.data.authenticated;\n                deferred.resolve(result.data.authenticated);\n            });\n            return deferred.promise;\n        };\n\n        service.login = function (redirect) {\n            go('login', redirect);\n        };\n\n        service.logout = function (redirect) {\n            go('logout', redirect);\n        };\n\n        service.update = function () {\n            modal.close(service.authenticated);\n        };\n\n        service.modal = function (redirect) {\n            if (!modal) {\n                modal = bbModal.open({\n                    controller: 'LoginPageController as loginPage',\n                    templateUrl: 'pages/login/loginpage.html',\n                    resolve: {\n                        barkbaudRedirect: function () {\n                            return redirect;\n                        }\n                    }\n                });\n            }\n\n            return modal.result;\n        };\n\n        return service;\n    }\n\n    barkbaudAuthService.$inject = [\n        'barkbaudConfig',\n        'bbData',\n        'bbModal',\n        '$q',\n        '$window'\n    ];\n\n    angular.module('barkbaud')\n        .factory('barkbaudAuthService', barkbaudAuthService);\n}());\n","angular.module('barkbaud.templates', []).run(['$templateCache', function($templateCache) {\n    $templateCache.put('components/photo.html',\n        '<div class=\"bark-dog-photo img-circle center-block\">\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('pages/dashboard/dashboardpage.html',\n        '<div class=\"container-fluid\">\\n' +\n        '  <h1>Dashboard</h1>\\n' +\n        '  <section class=\"panel\" ng-repeat=\"dog in dashboardPage.dogs\">\\n' +\n        '    <div class=\"panel-body\">\\n' +\n        '      <div class=\"row\">\\n' +\n        '          <div class=\"col-md-3 col-lg-2\">\\n' +\n        '            <a ui-sref=\"dog.views({dogId: dog.objectId})\">\\n' +\n        '              <bark-photo bark-photo-url=\"dog.image.url\"></bark-photo>\\n' +\n        '            </a>\\n' +\n        '          </div>\\n' +\n        '          <div class=\"col-md-9 col-lg-10\">\\n' +\n        '              <h1>\\n' +\n        '                <a ui-sref=\"dog.views({dogId: dog.objectId})\">{{dog.name}}</a>\\n' +\n        '              </h1>\\n' +\n        '              <h4>{{dog.breed}} &middot; {{dog.gender}}</h4>\\n' +\n        '              <p class=\"bb-text-block bark-dog-bio\">{{dog.bio}}</p>\\n' +\n        '          </div>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '  </section>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('pages/dogs/currenthome/currenthometile.html',\n        '<bb-tile bb-tile-header=\"\\'Current home\\'\">\\n' +\n        '    <div bb-tile-section>\\n' +\n        '        {{dogCurrentHomeTile.currentHome.constituent.name}}\\n' +\n        '    </div>\\n' +\n        '</bb-tile>\\n' +\n        '');\n    $templateCache.put('pages/dogs/dogpage.html',\n        '<div class=\"bb-page-header\">\\n' +\n        '    <div class=\"container-fluid\">\\n' +\n        '        <div class=\"row\">\\n' +\n        '            <div class=\"col-md-3 col-lg-2\">\\n' +\n        '                <bark-photo bark-photo-url=\"dogPage.dog.image.url\"></bark-photo>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"col-md-9 col-lg-10\">\\n' +\n        '                <h1>\\n' +\n        '                  {{dogPage.dog.name}}\\n' +\n        '                </h1>\\n' +\n        '                <h4>{{dogPage.dog.breed}} &middot; {{dogPage.dog.gender}}</h4>\\n' +\n        '                <p></p>\\n' +\n        '                <p class=\"bb-text-block bark-dog-bio\">{{dogPage.dog.bio}}</p>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '<div class=\"container-fluid\">\\n' +\n        '    <bb-tile-dashboard bb-layout=\"dogPage.layout\" bb-tiles=\"dogPage.tiles\"></bb-tile-dashboard>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('pages/dogs/notes/noteadd.html',\n        '<bb-modal>\\n' +\n        '  <div class=\"modal-form\">\\n' +\n        '    <bb-modal-header>Add note</bb-modal-header>\\n' +\n        '    <div bb-modal-body>\\n' +\n        '      <form>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <label class=\"control-label\">Date</label>\\n' +\n        '          <bb-datepicker type=\"text\" ng-model=\"noteAdd.date\"></bb-date-picker>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <label class=\"control-label\">Note</label>\\n' +\n        '          <input type=\"text\" class=\"form-control\" ng-model=\"noteAdd.title\" />\\n' +\n        '        </div>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <textarea class=\"form-control\" ng-model=\"noteAdd.description\"></textarea>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"form-group\">\\n' +\n        '          <label class=\"control-label\">\\n' +\n        '            <input type=\"checkbox\" bb-check ng-model=\"noteAdd.addConstituentNote\" />\\n' +\n        '            Also add this note to the dog\\'s current owner\\n' +\n        '          </label>\\n' +\n        '        </div>\\n' +\n        '      </form>\\n' +\n        '    </div>\\n' +\n        '    <bb-modal-footer>\\n' +\n        '      <bb-modal-footer-button-primary></bb-modal-footer-button-primary>\\n' +\n        '      <bb-modal-footer-button-cancel></bb-modal-footer-button-cancel>\\n' +\n        '    </bb-modal-footer>\\n' +\n        '  </div>\\n' +\n        '</bb-modal>\\n' +\n        '');\n    $templateCache.put('pages/dogs/notes/notestile.html',\n        '<bb-tile bb-tile-header=\"\\'Notes\\'\">\\n' +\n        '  <div>\\n' +\n        '    <div class=\"toolbar bb-tile-toolbar\">\\n' +\n        '      <button type=\"button\" class=\"btn bb-btn-secondary\" ng-click=\"dogNotesTile.addNote()\"><i class=\"fa fa-plus-circle\"></i> Add Note</button>\\n' +\n        '    </div>\\n' +\n        '    <div ng-show=\"dogNotesTile.notes\">\\n' +\n        '      <div ng-switch=\"dogNotesTile.notes.length || 0\">\\n' +\n        '        <div bb-tile-section ng-switch-when=\"0\" class=\"bb-no-records\">\\n' +\n        '          This dog has no notes.\\n' +\n        '        </div>\\n' +\n        '        <div ng-switch-default class=\"bb-repeater\">\\n' +\n        '          <div ng-repeat=\"note in dogNotesTile.notes\" class=\"bb-repeater-item\">\\n' +\n        '            <h4 class=\"bb-repeater-item-title\">{{ note.title }}</h4>\\n' +\n        '            <h5>{{ dogNotesTile.getNoteDate(note.date) }}</h5>\\n' +\n        '            <p>{{ note.description }}</p>\\n' +\n        '          </div>\\n' +\n        '        </div>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '  </div>\\n' +\n        '</bb-tile>\\n' +\n        '');\n    $templateCache.put('pages/dogs/previoushomes/previoushomestile.html',\n        '<bb-tile bb-tile-header=\"\\'Previous homes\\'\">\\n' +\n        '  <div>\\n' +\n        '    <div ng-show=\"dogSummaryTile.previousHomes\">\\n' +\n        '      <div ng-switch=\"dogSummaryTile.previousHomes.length || 0\">\\n' +\n        '        <div bb-tile-section ng-switch-when=\"0\" class=\"bb-no-records\">\\n' +\n        '          This dog has no previous homes.\\n' +\n        '        </div>\\n' +\n        '        <div ng-switch-default class=\"bb-repeater\">\\n' +\n        '          <div ng-repeat=\"previousHome in dogSummaryTile.previousHomes\" class=\"bb-repeater-item\">\\n' +\n        '            <h4 class=\"bb-repeater-item-title\">{{ previousHome.constituent.name }}</h4>\\n' +\n        '            <h5>\\n' +\n        '              {{ dogSummaryTile.getSummaryDate(previousHome.fromDate) }}\\n' +\n        '              <span ng-show=\"previousHome.toDate\">\\n' +\n        '                to {{ dogSummaryTile.getSummaryDate(previousHome.toDate) }}\\n' +\n        '              </span>\\n' +\n        '            </h5>\\n' +\n        '          </div>\\n' +\n        '        </div>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '  </div>\\n' +\n        '</bb-tile>\\n' +\n        '');\n    $templateCache.put('pages/login/loginpage.html',\n        '<bb-modal>\\n' +\n        '  <div class=\"modal-form modal-authorize\">\\n' +\n        '    <bb-modal-header>Barkbaud</bb-modal-header>\\n' +\n        '    <div bb-modal-body>\\n' +\n        '      <p class=\"alert alert-danger\" ng-if=\"loginPage.error\" ng-switch=\"loginPage.error\">\\n' +\n        '        <span ng-switch-when=\"access_denied\">\\n' +\n        '          Barkbaud requires access to RENXT.\\n' +\n        '        </span>\\n' +\n        '        <span ng-switch-default>\\n' +\n        '          An unknown error has occurred.\\n' +\n        '        </span>\\n' +\n        '      </p>\\n' +\n        '      <p>Welcome to the Barkbaud Sample App.  This demo was built to showcase the Blackbaud NXT API and Blackbaud Sky UX.</p>\\n' +\n        '      <p>Click the Login button below to view the demo, or click the Learn More button below to visit the GitHub repo.</p>\\n' +\n        '    </div>\\n' +\n        '    <bb-modal-footer>\\n' +\n        '      <div ng-show=\"loginPage.waitingForAuth\">\\n' +\n        '        <i class=\"fa fa-2x fa-spin fa-spinner\" ></i> Checking authentication...\\n' +\n        '      </div>\\n' +\n        '      <div ng-hide=\"loginPage.waitingForAuth\">\\n' +\n        '        <bb-modal-footer-button-primary  ng-click=\"loginPage.login()\">\\n' +\n        '          Authorize Barkbaud\\n' +\n        '        </bb-modal-footer-button-primary>\\n' +\n        '        <a href=\"https://github.com/blackbaud/barkbaud\" target=\"_blank\" class=\"btn bb-btn-secondary\">\\n' +\n        '          Learn More\\n' +\n        '        </a>\\n' +\n        '      </div>\\n' +\n        '    </bb-modal-footer>\\n' +\n        '  </div>\\n' +\n        '</bb-modal>\\n' +\n        '');\n}]);\n"]}